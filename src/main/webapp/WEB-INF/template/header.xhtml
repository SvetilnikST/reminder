<?xml version="1.0" encoding="UTF-8"?>

<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui" xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core">

    <h:form>
        <p:toolbar>
            <f:facet name="left">
                <p:button type="button" value="Контроль задач" href="/index.xhtml"/>
            </f:facet>
            <f:facet name="right">
                <c:if test="#{not userBean.authenticated}">
                    <p:button type="button" value="Задачи" icon="ui-icon-document"
                                     href="/listTask.xhtml" />
                    <p:button type="button" value="Войти" icon="ui-icon-document"
                                     href="/login.xhtml"/>
                </c:if>
                <c:if test="#{userBean.authenticated}">
                    <p:button type="button" value="Задачи" icon="ui-icon-document"
                              href="/listTask.xhtml" />
                    <p:button type="button" value="Новая задачи" icon="ui-icon-document"
                              href="/editTask.xhtml"
                              rendered="#{userBean.doRightVerify('createOrder')}"
                    />
                    <p:menuButton value="Администрирование" rendered="#{userBean.doRightVerify('admin')}">
                        <p:menuitem value="Пользователи" icon="ui-icon-disk"
                                    url="/administration.xhtml"
                        />
                    </p:menuButton>
                    <p:commandButton value="Выход(#{userBean.login})" icon="ui-icon-document"
                                     action="#{userBean.doLogout()}"/>
                </c:if>
            </f:facet>
        </p:toolbar>
    </h:form>
</ui:composition>

